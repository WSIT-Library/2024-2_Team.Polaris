# DRPS (Disaster Response and Prevention System) 백엔드

## 개요
이 프로젝트는 재난 대응 및 예방 시스템을 위한 백엔드 애플리케이션으로, 다양한 공공 API와 데이터베이스를 활용하여 공기 질 정보, 재난 문자, 뉴스, 대피소 관련 데이터를 처리하고 제공합니다.

## 주요 기능

### 1. **공기 질 정보 (Air)**
- **API 기능**: OpenAQ API를 통해 공기 질 정보를 수집하여, 요청된 위치의 공기 질 데이터를 반환합니다.
- **사용 기술**: Dotenv를 사용한 환경 변수 관리 및 cURL을 통한 API 통신.

### 2. **재난 문자 정보 (Disaster Messages)**
- **API 기능**: 재난 문자를 공공 데이터 포털에서 수집하여 데이터베이스에 저장 및 관리합니다.
- **크롤러**: 가장 최근의 데이터를 기반으로 DB를 업데이트하며, 중복 데이터를 방지합니다.

### 3. **재난 뉴스 (News)**
- **API 기능**: YNA(연합뉴스) API를 통해 최신 재난 뉴스를 가져와 데이터베이스에 저장합니다.
- **중복 제거**: 중복된 뉴스 데이터를 식별하여 제거하는 기능을 제공합니다.

### 4. **대피소 정보 (Shelters)**
- **API 기능**: 다양한 대피소(민방위 대피소, 지진 대피소, 쓰나미 대피소)의 정보를 수집하고, 위경도 기반으로 가까운 대피소를 조회합니다.
- **좌표 업데이트**: 네이버 지도 API를 통해 주소 기반으로 위경도 좌표를 업데이트합니다.

## 사용 방법

1. **환경 변수 설정**:
   - 각 폴더 내 `.env` 파일을 설정하고 필요한 API 키를 입력합니다.

2. **데이터베이스 설정**:
   - `db_config.php` 파일을 설정하여 데이터베이스 연결 정보를 입력합니다.

3. **데이터 수집 및 저장**:
   - 각 폴더의 크롤러 파일을 실행하여 데이터를 데이터베이스에 저장합니다.

4. **API 호출**:
   - 각 기능별 API 파일을 호출하여 데이터를 조회할 수 있습니다.

## 의존성 관리
- Composer를 사용하여 PHP 라이브러리 및 패키지를 관리합니다.
- 주요 패키지: `vlucas/phpdotenv`, `phpoffice/phpspreadsheet`, `GrahamCampbell/result-type` 등.

## 보안
- API 키와 같은 중요한 정보는 `.env` 파일을 통해 관리되며, 민감한 정보가 외부에 노출되지 않도록 주의해야 합니다.
